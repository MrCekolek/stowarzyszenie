<div class="container testimonial-group">
    <ul class="nav" cdkDropList cdkDropListOrientation="horizontal" id="protfolio-tabs" role="tablist" *ngIf="this.tabs.length > 0" (cdkDropListDropped)="drop($event)">
        <li class="nav-item mr-2" *ngFor="let tab of tabs" cdkDrag>
            <!-- <a class="nav-link" [id]="'tab' + tab.id" data-toggle="tab" [href]="'#tab_' + tab.id" role="tab" aria-controls="home">
                            {{ tab['name_' + lang] }} 
                        </a> -->

            <div class="btn-group">
                <a type="button" (click)="selectActiveTab(tab)" class="btn btn-primary text-white" [id]="'tab' + tab.id" data-toggle="tab" [href]="'#tab_' + tab.id" role="tab">
                                {{ tab['name_' + lang] }} 
                            </a>
                <a type="button" class="btn btn-primary text-white dropdown-toggle dropdown-toggle-split" data-toggle="dropdown">
                    <span class="sr-only">Toggle Dropdown</span>
                </a>
                <div class="dropdown-menu">
                    <a class="dropdown-item text-success" (click)="openTabModal('edit', tab)">
                        <i class="fas fa-pencil-alt mr-2"></i> {{ 'STOWARZYSZENIE.CRUD_BUTTONS.EDIT' | translate }}
                    </a>
                    <a class="dropdown-item text-danger" (click)="openDeleteDialog(tab)">
                        <i class="fas fa-times mr-2"></i> {{ 'STOWARZYSZENIE.CRUD_BUTTONS.DELETE' | translate }}
                    </a>
                </div>
            </div>
        </li>

        <!-- button dodania nowego taba -->
        <!-- TODO: permission -->
        <!-- *ngIf="userService.checkPermission('PROFILE.ADD_TABS')" -->
        <li class="nav-item mr-2">
            <div class="btn btn-warning" (click)="openTabModal('new')">
                <i class="fas fa-plus"></i> {{ 'STOWARZYSZENIE.CRUD_BUTTONS.ADD' | translate }}
            </div>
        </li>
    </ul>
</div>


<div class="tab-content mt-5" id="tbs-content" *ngIf="this.activeTab">
    <div class="tab-pane fade" [id]="'tab_' + this.activeTab.id" role="tabpanel">
        <!-- *ngIf="!tabLoading; else loading" -->
        <div class="container">
            <div class="row" *ngIf="activeTabsCards">
                <div class="col-sm-12 col-md-6 col-lg-6" *ngFor="let cart of activeTabsCards">
                    <app-portfolio-card (editCardEv)="editCard($event)" (delCardEv)="deleteCard($event)" [card]="cart"></app-portfolio-card>
                </div>

                <!-- static card to adding new cards -->
                <!-- TODO: only for editing preferences -->
                <div class="col-sm-12 col-md-6 col-lg-6">
                    <div class="card card-add-new" (click)="this.addCard('Card Header')">
                        <div class="card-body">
                            <div class="empty-state" data-height="300" style="height: 300px;">
                                <div class="empty-state-icon bg-warning">
                                    <i class="fas fa-plus"></i>
                                </div>
                                <div class="overlay-loader" *ngIf="this.cardAddingLoad">
                                    <div class="loader">
                                        <div class="spinner-border text-warning" role="status" style="width: 3rem; height: 3rem;">
                                            <span class="sr-only">Loading...</span>
                                        </div>
                                    </div>
                                </div>
                                <h2>
                                    {{ 'STOWARZYSZENIE.MODULES.PORTFOLIO.ADMIN.ADD_CARD' | translate }}
                                </h2>
                                <p class="lead">
                                    {{ 'STOWARZYSZENIE.MODULES.PORTFOLIO.ADMIN.ADD_CARD_DESC' | translate }}
                                </p>
                                <a class="btn btn-warning text-white mt-4">
                            {{ 'STOWARZYSZENIE.MODULES.PORTFOLIO.ADMIN.ADD_CARD' | translate }}
                        </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <ng-template #loading>
        <div class="overlay-loader">
            <div class="loader">
                <div class="spinner-border text-warning" role="status" style="width: 3rem; height: 3rem;">
                    <span class="sr-only">Loading...</span>
                </div>
            </div>
        </div>
    </ng-template>
</div>